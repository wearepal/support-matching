- model: autoencoder
  description: "Only the autoencoder from the clustering"
  extends: model_base  # inherit from model_base
  params:
    entry-point: run_clust.py
  operations:
    run:
      flags:
        $include:  # import flag configs
          - a_cmnist_2dig
          - c_vague_spaceship_improved
          - e_mnist
        # flags specific to the clustering autoencoder
        c-enc-wandb: "True"

- model: ranking_base
  description: "Cluster with rank statistics and then disentangle."
  extends: model_base
  params:
    entry-point: run_both.py
  operations:
    run:
      flags:
        log-method: "ranking-fdm"
        c-method: "pl_enc_no_norm"
        c-pseudo-labeler: "ranking"

- model: kmeans_base
  description: "Cluster with kmeans and then disentangle."
  extends: model_base
  params:
    entry-point: run_both.py
  operations:
    run:
      flags:
        log-method: "kmeans-fdm"
        c-method: "kmeans"

- model: no_cluster_base
  description: "Disentangling without clustering"
  extends: model_base
  params:
    entry-point: run_dis.py
  operations:
    run:
      flags:
        d-balanced-context: "False"
        log-method: "no-cluster-fdm"

- model: perfect_cluster_base
  description: "Disentangling groundtruth labels as clusters"
  extends: model_base
  params:
    entry-point: run_dis.py
  operations:
    run:
      flags:
        d-balanced-context: "True"
        log-method: "perfect-cluster"

- model: dro_base
  description: "Distributionally-robust optimization baseline"
  extends: model_base
  params:
    entry-point: run_simple_baselines.py
  operations:
    run:
      flags:
        b-method: dro
        b-eta:  # guildai will automatically run them all
          - 0.01
          - 0.1
          - 0.5
          - 1.0
        log-method: "dro-baseline"

- model: cnn_cmnist
  description: "Baseline CNN"
  extends: model_base
  params:
    entry-point: run_simple_baselines.py
  operations:
    run:
      flags:
        $include:
          - a_cmnist_2dig
        b-method: cnn
        b-epochs: 60
        log-method: "cnn-baseline"
